<html>
	<head>
		<title>Test</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
	</head>
	<body>
		<div>
			
			  <label for="texto">Enviar postMessage para o iFrame:</label>
			  <input type="text" name="texto" id="texto" >
			  <input type="submit" id="enviar" value="Enviar">
			
		</div>
		
		<iframe id="iframe" src="http://localhost:9999/iframe.html"></iframe>

		<script type="text/javascript">

		$("#enviar").click(function (event) {
			event.preventDefault();
			var texto = $("#texto").val();
			console.log('Vai enviar o texto: "' + texto + '" para o filho...');

			document.getElementById("iframe").contentWindow.postMessage(texto, '*');
		});


		window.addEventListener("message", receiveMessage, false);
		console.log('Listener adicionado na página mãe!');

		function receiveMessage(event)
		{
		  //var origin = event.origin || event.originalEvent.origin; // For Chrome, the origin property is in the event.originalEvent object.
		  //if (origin !== "http://example.org:8080")
		  //  return;

		  console.log('Mensagem recebida na página mãe!');
		  console.debug(event);
		}
		</script>
	</body>
</html>